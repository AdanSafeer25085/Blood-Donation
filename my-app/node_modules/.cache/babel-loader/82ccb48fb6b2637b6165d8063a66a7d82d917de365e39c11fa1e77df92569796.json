{"ast":null,"code":"import _objectSpread from\"C:/Users/Rajpoot/Desktop/untitled folder/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GetBloodForm(_ref){let{onBack,setViewDisplayData}=_ref;const[formData,setFormData]=useState({name:\"\",cnic:\"\"});const[message,setMessage]=useState(\"\");const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();// Basic validation for CNIC and name\nif(!/^\\d{13}$/.test(formData.cnic)){setMessage(\"CNIC must be a 13-digit number.\");return;}if(!formData.name.trim()){setMessage(\"Name cannot be empty.\");return;}try{const response=await fetch(\"http://localhost:5000/submit-get-blood-form\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});const result=await response.json();if(response.ok){setMessage(result.message||\"Form submitted successfully.\");setViewDisplayData(true);// Notify the parent to show DisplayData\n}else{setMessage(result.error||\"Failed to submit the form.\");}}catch(error){console.error(\"Error submitting form:\",error);setMessage(\"An error occurred. Please try again.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-white rounded-lg shadow-lg w-[350px] m-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-red-800 mb-4\",children:\"Get Blood\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"mb-4 text-red-600\",children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,required:true,className:\"w-full border p-2 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"CNIC\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cnic\",value:formData.cnic,onChange:handleChange,required:true,className:\"w-full border p-2 rounded\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-[#991b1b] text-white px-4 py-2 rounded\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onBack,className:\"ml-4 text-[#991b1b] border border-[#991b1b] px-4 py-2 rounded\",children:\"Back\"})]})]});}export default GetBloodForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","GetBloodForm","_ref","onBack","setViewDisplayData","formData","setFormData","name","cnic","message","setMessage","handleChange","e","value","target","prev","_objectSpread","handleSubmit","preventDefault","test","trim","response","fetch","method","headers","body","JSON","stringify","result","json","ok","error","console","className","children","onSubmit","type","onChange","required","onClick"],"sources":["C:/Users/Rajpoot/Desktop/untitled folder/my-app/src/Components/Form/getForm.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nfunction GetBloodForm({ onBack, setViewDisplayData }) {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    cnic: \"\",\r\n  });\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Basic validation for CNIC and name\r\n    if (!/^\\d{13}$/.test(formData.cnic)) {\r\n      setMessage(\"CNIC must be a 13-digit number.\");\r\n      return;\r\n    }\r\n    if (!formData.name.trim()) {\r\n      setMessage(\"Name cannot be empty.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/submit-get-blood-form\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (response.ok) {\r\n        setMessage(result.message || \"Form submitted successfully.\");\r\n        setViewDisplayData(true); // Notify the parent to show DisplayData\r\n      } else {\r\n        setMessage(result.error || \"Failed to submit the form.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error submitting form:\", error);\r\n      setMessage(\"An error occurred. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 bg-white rounded-lg shadow-lg w-[350px] m-5\">\r\n      <h2 className=\"text-xl font-bold text-red-800 mb-4\">Get Blood</h2>\r\n      {message && <p className=\"mb-4 text-red-600\">{message}</p>}\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            required\r\n            className=\"w-full border p-2 rounded\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700\">CNIC</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"cnic\"\r\n            value={formData.cnic}\r\n            onChange={handleChange}\r\n            required\r\n            className=\"w-full border p-2 rounded\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"bg-[#991b1b] text-white px-4 py-2 rounded\">\r\n          Submit\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onBack}\r\n          className=\"ml-4 text-[#991b1b] border border-[#991b1b] px-4 py-2 rounded\"\r\n        >\r\n          Back\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GetBloodForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}